# å¿«é€Ÿå¼€å§‹æŒ‡å— âš¡

5åˆ†é’Ÿå¿«é€Ÿäº†è§£é¡¹ç›®å¹¶å¼€å§‹ä½¿ç”¨ï¼

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª**å¹³é¢å›¾æ™ºèƒ½åˆ†æç³»ç»Ÿ**ï¼Œå¯ä»¥ï¼š
1. ğŸª‘ **è¯†åˆ«å®¶å…·** - è‡ªåŠ¨è¯†åˆ«å’Œç»Ÿè®¡é—¨ã€çª—ã€æ¡Œæ¤…ç­‰å®¶å…·å›¾ä¾‹
2. ğŸ  **åˆ†å‰²æˆ¿é—´** - å°†å¹³é¢å›¾åˆ†å‰²æˆç‹¬ç«‹çš„æˆ¿é—´åŒºåŸŸ
3. ğŸ“ **è®¡ç®—é¢ç§¯** - æ ¹æ®æ¯”ä¾‹å°ºè®¡ç®—æ¯ä¸ªæˆ¿é—´å’Œæ€»é¢ç§¯

## ğŸš€ å¿«é€Ÿå®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <your-repo-url>
cd FYP-Floorplan

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

## ğŸ“Š é¡¹ç›®æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å¹³é¢å›¾å›¾ç‰‡     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. æ•°æ®æ ‡æ³¨    â”‚ â”€â”€â”€â†’ â”‚ LabelImg (æ£€æµ‹)  â”‚
â”‚  (1-2å‘¨)        â”‚      â”‚ LabelMe (åˆ†å‰²)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. æ¨¡å‹è®­ç»ƒ    â”‚ â”€â”€â”€â†’ â”‚ YOLOv8 (æ£€æµ‹)    â”‚
â”‚  (2-3å‘¨)        â”‚      â”‚ U-Net (åˆ†å‰²)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. æ¨ç†åˆ†æ    â”‚ â”€â”€â”€â†’ å®¶å…·ç»Ÿè®¡ + æˆ¿é—´åˆ†å‰² + é¢ç§¯è®¡ç®—
â”‚  (éšæ—¶ä½¿ç”¨)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ä¸‰æ­¥èµ°æˆ˜ç•¥

### ç¬¬ä¸€æ­¥ï¼šæ•°æ®æ ‡æ³¨ (1-2å‘¨)

**ç›®æ ‡æ£€æµ‹æ ‡æ³¨** - æ ‡æ³¨å®¶å…·å›¾ä¾‹ï¼š

```bash
# å®‰è£…æ ‡æ³¨å·¥å…·
pip install labelImg

# å¼€å§‹æ ‡æ³¨
labelImg data/images data/labels_detection
```

éœ€è¦æ ‡æ³¨çš„ç±»åˆ«ï¼šdoor, window, table, chair, bed, sofa, toilet, sink ç­‰

**è¯­ä¹‰åˆ†å‰²æ ‡æ³¨** - æ ‡æ³¨æˆ¿é—´åŒºåŸŸï¼š

```bash
# å®‰è£…æ ‡æ³¨å·¥å…·
pip install labelme

# å¼€å§‹æ ‡æ³¨
labelme data/images --output data/labels_segmentation
```

éœ€è¦æ ‡æ³¨çš„ç±»åˆ«ï¼šwall, room, door_area, window_area

ğŸ“– è¯¦ç»†æ•™ç¨‹ï¼š[æ•°æ®æ ‡æ³¨æŒ‡å—](docs/TUTORIAL_01_æ•°æ®æ ‡æ³¨æŒ‡å—.md)

### ç¬¬äºŒæ­¥ï¼šæ¨¡å‹è®­ç»ƒ (2-3å‘¨)

**è®­ç»ƒå®¶å…·æ£€æµ‹æ¨¡å‹**ï¼š

```bash
# 1. å‡†å¤‡æ•°æ®é›†
python src/utils/prepare_dataset.py \
    --images-dir data/images \
    --output-dir data/splits \
    --check-labels data/labels_detection

# 2. è®­ç»ƒæ¨¡å‹
python src/detection/train_detection.py \
    --config config/furniture_detection.yaml \
    --model-size s
```

**è®­ç»ƒæˆ¿é—´åˆ†å‰²æ¨¡å‹**ï¼š

```bash
python src/segmentation/train_segmentation.py \
    --config config/room_segmentation.yaml
```

ğŸ“– è¯¦ç»†æ•™ç¨‹ï¼š[æ¨¡å‹è®­ç»ƒæŒ‡å—](docs/TUTORIAL_02_æ¨¡å‹è®­ç»ƒ.md)

### ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨Agentåˆ†æ (é©¬ä¸Šå¼€å§‹ï¼)

**åˆ†æå•å¼ å¹³é¢å›¾**ï¼š

```bash
python src/agent/floorplan_agent.py \
    --image data/images/example.jpg \
    --scale "1:100" \
    --reference-pixels 200 \
    --reference-length 200 \
    --save-dir output
```

**è¾“å‡ºç»“æœ**ï¼š
- å®¶å…·ç»Ÿè®¡ï¼ˆdoor: 3ä¸ª, window: 5ä¸ª, ...ï¼‰
- æˆ¿é—´åˆ†å‰²å¯è§†åŒ–
- æˆ¿é—´é¢ç§¯ï¼ˆæˆ¿é—´1: 25.6mÂ², æˆ¿é—´2: 18.3mÂ², æ€»è®¡: 65.1mÂ²ï¼‰
- JSONæ ¼å¼çš„è¯¦ç»†ç»“æœ

ğŸ“– è¯¦ç»†æ•™ç¨‹ï¼š[ä½¿ç”¨AgentæŒ‡å—](docs/TUTORIAL_03_ä½¿ç”¨Agent.md)

## ğŸ¯ æµ‹è¯•ç¤ºä¾‹

**æµ‹è¯•å®¶å…·æ£€æµ‹**ï¼ˆéœ€è¦å…ˆè®­ç»ƒæ¨¡å‹ï¼‰ï¼š

```bash
python src/detection/detect_furniture.py \
    --image data/images/test.jpg \
    --model runs/detect/furniture_detection/weights/best.pt \
    --save output/test_furniture.jpg
```

**æµ‹è¯•æˆ¿é—´åˆ†å‰²**ï¼ˆéœ€è¦å…ˆè®­ç»ƒæ¨¡å‹ï¼‰ï¼š

```bash
python src/segmentation/segment_room.py \
    --image data/images/test.jpg \
    --model models/segmentation/best_model.pth \
    --save output/test_segmentation.jpg
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
FYP-Floorplan/
â”œâ”€â”€ data/                    # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ images/             # åŸå§‹å¹³é¢å›¾ (303å¼ )
â”‚   â”œâ”€â”€ labels_detection/   # æ£€æµ‹æ ‡æ³¨
â”‚   â””â”€â”€ labels_segmentation/# åˆ†å‰²æ ‡æ³¨
â”œâ”€â”€ src/                     # æºä»£ç 
â”‚   â”œâ”€â”€ detection/          # å®¶å…·æ£€æµ‹
â”‚   â”œâ”€â”€ segmentation/       # æˆ¿é—´åˆ†å‰²
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ agent/              # åˆ†æAgent
â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”œâ”€â”€ docs/                    # æ–‡æ¡£æ•™ç¨‹
â”œâ”€â”€ models/                  # è®­ç»ƒå¥½çš„æ¨¡å‹
â”œâ”€â”€ output/                  # åˆ†æç»“æœ
â””â”€â”€ requirements.txt         # ä¾èµ–åˆ—è¡¨
```

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### æ£€æµ‹é…ç½® (`config/furniture_detection.yaml`)

```yaml
# ç±»åˆ«å®šä¹‰ï¼ˆæ ¹æ®æ‚¨çš„æ ‡æ³¨ä¿®æ”¹ï¼‰
names:
  0: door
  1: window
  2: table
  # ...

# è®­ç»ƒå‚æ•°
epochs: 100
batch: 16
imgsz: 640
```

### åˆ†å‰²é…ç½® (`config/room_segmentation.yaml`)

```yaml
# ç±»åˆ«å®šä¹‰
classes:
  0: background
  1: wall
  2: room
  3: door_area
  4: window_area

# è®­ç»ƒå‚æ•°
training:
  epochs: 100
  batch_size: 8
```

## âš™ï¸ ç³»ç»Ÿè¦æ±‚

**æœ€ä½é…ç½®**ï¼š
- Python 3.8+
- GPU: 6GBæ˜¾å­˜ (GTX 1060)
- RAM: 16GB
- å­˜å‚¨: 10GB

**æ¨èé…ç½®**ï¼š
- Python 3.9+
- GPU: 12GBæ˜¾å­˜ (RTX 3060+)
- RAM: 32GB
- å­˜å‚¨: 50GB SSD

## ğŸ“š å®Œæ•´æ–‡æ¡£

- [æ•°æ®æ ‡æ³¨æ•™ç¨‹](docs/TUTORIAL_01_æ•°æ®æ ‡æ³¨æŒ‡å—.md)
- [æ¨¡å‹è®­ç»ƒæ•™ç¨‹](docs/TUTORIAL_02_æ¨¡å‹è®­ç»ƒ.md)
- [ä½¿ç”¨Agentæ•™ç¨‹](docs/TUTORIAL_03_ä½¿ç”¨Agent.md)
- [è¯¦ç»†README](README.md)

## â±ï¸ æ—¶é—´è§„åˆ’

| é˜¶æ®µ | æ—¶é—´ | è¯´æ˜ |
|------|------|------|
| ç¯å¢ƒæ­å»º | 1å¤© | å®‰è£…ä¾èµ–ï¼Œç†Ÿæ‚‰é¡¹ç›® |
| æ•°æ®æ ‡æ³¨ | 1-2å‘¨ | æ ‡æ³¨150-200å¼ å›¾ç‰‡ |
| æ¨¡å‹è®­ç»ƒ | 2-3å‘¨ | è®­ç»ƒå’Œè°ƒä¼˜ä¸¤ä¸ªæ¨¡å‹ |
| æµ‹è¯•éªŒè¯ | 1å‘¨ | æµ‹è¯•å’Œä¼˜åŒ–ç»“æœ |
| æ€»è®¡ | 5-7å‘¨ | å®Œæ•´æµç¨‹ |

## ğŸ“ å­¦ä¹ è·¯å¾„

**ç¬¬ä¸€å‘¨**ï¼š
- å­¦ä¹ åŸºç¡€æ¦‚å¿µï¼ˆç›®æ ‡æ£€æµ‹ã€è¯­ä¹‰åˆ†å‰²ï¼‰
- å®‰è£…ç¯å¢ƒå’Œç†Ÿæ‚‰é¡¹ç›®ç»“æ„
- å¼€å§‹æ ‡æ³¨ä¸€å°éƒ¨åˆ†æ•°æ®ï¼ˆ10-20å¼ ï¼‰

**ç¬¬äºŒ-ä¸‰å‘¨**ï¼š
- å®Œæˆå¤§éƒ¨åˆ†æ•°æ®æ ‡æ³¨
- å¼€å§‹è®­ç»ƒç¬¬ä¸€ç‰ˆæ¨¡å‹
- è¯„ä¼°ç»“æœï¼Œè°ƒæ•´æ ‡æ³¨ç­–ç•¥

**ç¬¬å››-äº”å‘¨**ï¼š
- å®Œæˆæ‰€æœ‰æ ‡æ³¨
- è®­ç»ƒæœ€ç»ˆæ¨¡å‹
- ä¼˜åŒ–å‚æ•°å’Œæ€§èƒ½

**ç¬¬å…­å‘¨åŠä»¥å**ï¼š
- ä½¿ç”¨Agentè¿›è¡Œå®é™…åˆ†æ
- æ ¹æ®åé¦ˆæŒç»­æ”¹è¿›
- æ‰©å±•åŠŸèƒ½

## ğŸ¤ è·å–å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹[è¯¦ç»†æ–‡æ¡£](README.md)
2. æŸ¥çœ‹[æ•™ç¨‹ç³»åˆ—](docs/)
3. æäº¤Issue
4. æŸ¥çœ‹ä»£ç æ³¨é‡Š

## ğŸ‰ ä¸‹ä¸€æ­¥

1. âœ… å®‰è£…å®Œæˆåï¼Œè¿è¡Œæ•°æ®é›†åˆ’åˆ†ï¼š
   ```bash
   python src/utils/prepare_dataset.py --images-dir data/images
   ```

2. âœ… æŸ¥çœ‹æ‚¨çš„æ•°æ®ï¼š
   ```bash
   ls data/images  # åº”è¯¥çœ‹åˆ°303å¼ å›¾ç‰‡
   ```

3. âœ… å¼€å§‹æ ‡æ³¨ç¬¬ä¸€å¼ å›¾ç‰‡ï¼ˆä½¿ç”¨LabelImgï¼‰

4. âœ… é˜…è¯»å®Œæ•´æ•™ç¨‹ï¼š[æ•°æ®æ ‡æ³¨æŒ‡å—](docs/TUTORIAL_01_æ•°æ®æ ‡æ³¨æŒ‡å—.md)

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼å¦‚æœ‰é—®é¢˜æ¬¢è¿æIssueï¼** ğŸš€

